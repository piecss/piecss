// /*
//  * Copyright (C) 2014 Babs GÃ¶sgens.
//  * Licensed under MIT; see LICENSE.txt
//  */


// ==========================================================================
//
// CONTENT
//
// ==========================================================================
//
// 1. Selector settings
// 2. Field settings
//    2a. Shared settings
//        Default
//        Focus
//    2b. Color input
//    2b. Range input
//    2d. Search input
//    2e. Checkbox/Radio settings
//    2f. Textarea settings
//    2g. Select settings
// 3. Label settings
// 4. Elements


// ==========================================================================
//
// SELECTOR SETTINGS
//
// ==========================================================================

$form-form-selector: "%form" !default;
$form-fieldset-selector: "%fieldset" !default;
$form-legend-selector: "%legend" !default;
$form-field-base-selector: "%field-base" !default;
$form-field-base-selector--focus: "%field-base--focus" !default;
$form-field-selector: "%field" !default;
$form-field-color-selector: "%field--color" !default;
$form-field-range-selector: "%field--range" !default;
$form-field-search-selector: "%field--search" !default;
$form-checkbox-selector: "%checkbox" !default;
$form-radio-selector: "%radio" !default;
$form-textarea-selector: "%textarea" !default;
$form-select-selector: "%select" !default;
$form-select-dropdown-selector: "%select--dropdown" !default;
$form-select-box-selector: "%select--box" !default;
$form-select-multiple-selector: "%select--multiple" !default;
$form-label-selector: "%label" !default;

// Start collection of element-maps
$form-elements: ();

// ==========================================================================
//
// FIELD SETTINGS
//
// ==========================================================================


// --------------------------------------------------------------------------
// SHARED SETTINGS - DEFAULT
// --------------------------------------------------------------------------

$field-padding-top: vrhythm(.25) !default;
$field-padding-right: .5em;
$field-padding-bottom: vrhythm(.25) !default;
$field-padding-left: .5em;

$field-background-color: $color-background !default;
$field-background-image: false !default;

$field-border-width: 1px !default;
$field-border-style: solid !default;
$field-border-color: darken($color-background, 30%) !default;

$field-border-radius-top-left: $corner-radius !default;
$field-border-radius-top-right: $corner-radius !default;
$field-border-radius-bottom-right: $corner-radius !default;
$field-border-radius-bottom-left: $corner-radius !default;
$field-border-radius: $corner-radius !default;

$field-box-sizing: border-box;
$field-width: 100%;
$field-height: $default-line-height + 2*$field-border-width + $field-padding-top + $field-padding-bottom;
$field-line-height: $default-line-height;

$field-shadow: mix($black, $field-background-color, 10%) 1px 1px 1px 0 inset !default;

$form-elements: add-properties(
    (
        box-sizing: $field-box-sizing, // The search box needs this, weirdly
        height: $field-height,
        width: $field-width,
        padding: (top: $field-padding-top, right: $field-padding-right, bottom: $field-padding-bottom, left: $field-padding-left),
        background: $field-background-color if($field-background-image, url(#{$field-background-image}), none),
        border: $field-border-width $field-border-style $field-border-color,
        border-radius: $field-border-radius,
        line-height: $field-line-height,
        box-shadow: $field-shadow, 
    ),
    $form-field-base-selector,
    $form-elements
);


// --------------------------------------------------------------------------
// SHARED SETTINGS - FOCUS
// --------------------------------------------------------------------------

$field-focussed-background-color: $whitesmoke !default;

$field-focussed-outline-width: 1px !default;
$field-focussed-outline-style: solid !default;
$field-focussed-outline-color: mix($field-border-color, $field-focussed-background-color, 0) !default;

$field-focussed-outline-offset: -1*( $field-focussed-outline-width + 3*$field-border-width) !default; 

$form-elements: add-properties(
    (
        background-color: $field-focussed-background-color,
        outline: $field-focussed-outline-width $field-focussed-outline-style $field-focussed-outline-color,
        outline-offset: $field-focussed-outline-offset,
    ),
    $form-field-base-selector--focus,
    $form-elements
);


// ==========================================================================
//
// 2b. Input Color properties
//
// ==========================================================================

$form-elements: add-properties(
    (
        // border: $field-border-width $field-border-style $field-border-color,
        border-radius: $field-border-radius,
    ),
    $form-field-color-selector,
    $form-elements
);


// ==========================================================================
//
// 2b. Input Range properties
//
// ==========================================================================

$field-range-width: $field-width;

$form-elements: add-properties(
    (
        width: $field-range-width,
    ),
    $form-field-range-selector,
    $form-elements
);


// --------------------------------------------------------------------------
//
// Input Search properties
//
// --------------------------------------------------------------------------

$field-search-border-radius: $field-border-radius;
$field-search-outline-offset: 0;

$form-elements: add-properties(
    (
        // border-radius: $field-search-border-radius,
        // outline-offset: $field-search-outline-offset,
    ),
    $form-field-search-selector,
    $form-elements
);


// --------------------------------------------------------------------------
//
// Select properties
//
// --------------------------------------------------------------------------

$select-appearance-default: true;
$select-height: $field-height; // This is used for select elements
$select-webkit: false;

$form-elements: add-properties(
    (
        height: $select-height,
    ),
    $form-select-selector,
    $form-elements
);

$form-elements: add-properties(
    (
        height: auto,
    ),
    $form-select-box-selector,
    $form-elements
);


// --------------------------------------------------------------------------
//
// Textarea properties
//
// --------------------------------------------------------------------------

$textarea-height: auto;

$textarea-height-medium: vrhythm(5) - 2*$field-border-width;
$textarea-height-large: vrhythm(10) - 2*$field-border-width;

$form-elements: add-properties(
    (
        height: $textarea-height,
    ),
    $form-textarea-selector,
    $form-elements
);

$form-elements: add-properties(
    (
        height: $textarea-height-medium,
    ),
    #{$form-textarea-selector}--medium,
    $form-elements
);

$form-elements: add-properties(
    (
        height: $textarea-height-large,
    ),
    #{$form-textarea-selector}--large,
    $form-elements
);

// ==========================================================================
//
// LABEL SETTINGS
//
// ==========================================================================


